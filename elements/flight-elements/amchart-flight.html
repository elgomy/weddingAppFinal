<link rel="import" href="../../bower_components/polymer/polymer-element.html">
    
<dom-module id="amchart-flight">
  <!-- Optional shadow DOM template -->
  <template>
    <style>
      #chartdiv {
  	width: 300px;
  	height: 300px;
}
    </style>

    <!-- shadow DOM for your element -->

   <div id="chartdiv"></div>	

  </template>

  <script>

    // Define the element's API using an ES2015 class
    class AmchartFlight extends Polymer.Element {

      static get is() { return 'amchart-flight'; }

      // Declare properties for the element's public API         
      static get properties() {
        return {
          greeting: {
            type: String,
            value: "Hello!"
          }
        }
      }

      // Add methods to the element's public API
      ready() {
      	super.ready();
        this.loadMap();
      }

      loadMap(){
      	var targetSVG = "M9,0C4.029,0,0,4.029,0,9s4.029,9,9,9s9-4.029,9-9S13.971,0,9,0z M9,15.93 c-3.83,0-6.93-3.1-6.93-6.93S5.17,2.07,9,2.07s6.93,3.1,6.93,6.93S12.83,15.93,9,15.93 M12.5,9c0,1.933-1.567,3.5-3.5,3.5S5.5,10.933,5.5,9S7.067,5.5,9,5.5 S12.5,7.067,12.5,9z";
// svg path for plane icon
var planeSVG = "m2,106h28l24,30h72l-44,-133h35l80,132h98c21,0 21,34 0,34l-98,0 -80,134h-35l43,-133h-71l-24,30h-28l15,-47";

AmCharts.makeChart(this.$.chartdiv, {
  type: "map",
  fontSize:20,
  balloon:{horizontalPadding:20, verticalPadding:15},
  creditsPosition:"top-right",
  dataProvider: {
    map: "worldLow",
    zoomLevel: 3.5,
    zoomLongitude: -35,
    zoomLatitude: 12,

    lines: [{
      id: "line1",
      arc: -0.85,
      alpha: 0.3,
      latitudes: [43.28, 38.738, -22.88, -3.706],
      longitudes: [-2.94, -9.14, -43.18, -38.53]
    },],
    images: [{
      svgPath: targetSVG,
      title: "Bilbao",
      latitude: 43.28,
      longitude: -2.94
    }, {
      svgPath: targetSVG,
      title: "Lisboa",
      latitude: 38.738,
      longitude: -9.14
    }, {
      svgPath: targetSVG,
      title: "Rio de Janeiro",
      latitude: -22.88,
      longitude: -43.18
    }, {
      svgPath: targetSVG,
      title: "Fortaleza",
      latitude: -3.706,
      longitude: -38.53
    },  {
      svgPath: planeSVG,
      positionOnLine: 0,
      color: "#585869",
      animateAlongLine: true,
      lineId: "line1",
      flipDirection: false,
      loop: true,
      scale: 0.03,
      positionScale: 1.8
    }]
  },

  areasSettings: {
    unlistedAreasColor: "#8dd9ef"
  },

  imagesSettings: {
    color: "#585869",
    rollOverColor: "#585869",
    selectedColor: "#585869",
    pauseDuration: 0.2,
    animationDuration: 4.5,
    adjustAnimationSpeed: true
  },

  linesSettings: {
    color: "#585869",
    alpha: 0.4
  }
});
      }

    }

    // Register the x-custom element with the browser
    customElements.define(AmchartFlight.is, AmchartFlight);
  </script>

</dom-module>